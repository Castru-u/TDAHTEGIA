-- Cria o banco de dados se não existir
CREATE DATABASE IF NOT EXISTS publicacoes_db;
-- Usa o banco de dados
USE publicacoes_db;
-- Cria a tabela para armazenar publicações
CREATE TABLE IF NOT EXISTS `publicacoes` (
    `id` INT AUTO_INCREMENT PRIMARY KEY,
    `titulo` VARCHAR(255) NOT NULL,
    `conteudo` TEXT NOT NULL,
    `imagem` LONGBLOB,
    `data_publicacao` TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Cria a tabela para armazenar comentários
CREATE TABLE IF NOT EXISTS `comentarios` (
    `id` INT AUTO_INCREMENT PRIMARY KEY,
    `publicacao_id` INT,
    `autor` VARCHAR(100),
    `comentario` TEXT,
    `data_comentario` TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (publicacao_id) REFERENCES publicacoes(id)
);

-- Consulta a tabela publicacoes
SELECT * FROM publicacoes;
